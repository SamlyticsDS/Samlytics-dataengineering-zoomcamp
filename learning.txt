to short the input prompter use 
PS1="> "
This change the prompter to "> " oly rather than long text

To make above a pamernent change across all terminal use
echo 'PS1="> "' > ~/.bashrc

confirm "Docker" is installed by just typing "docker"
Docker is a containerization software that allows us to isolate software in a similar way to virtual machines but in a much leaner way.

to confirm docker is well installed run
docker run hello-world

i can run an interative container with below
docker run -it ubuntu
to install python in our new environment
apt update
apt install python3

to exit back to my host machines
ctrl d
 to go back I can run
 docker run -it ubuntu 
it opens new image hence docker is stateless.

We can run a Python image
docker run -it python:3.13.
docker run -it python:3.13.11-slim  for smaller version
docker run -it --entrypoint=bash python:3.13.11-slim  For bash with python

Above have python by default
to see all previous Docker images
docker ps -a
to get the list of all docker images ids
docker ps -aq
to remove all listed files
docker rm `docker ps -aq`

to see what is available in my environment
docker ps -a

How to preserve stateless
> mkdir test   £Make a folder
> cd test/ £move to the folder
> ls  £list files in the folder
> touch file1.txt file2.txt file3.txt  £create files in the folder
> echo "Hello from host"> file1.txt £write text in a file
> ls £list files
file1.txt  file2.txt  file3.txt
> cat file1.txt £View content of a file
Hello from host
> cat file2.txt £View content of a file
> touch script.py £ This create a new file
I can run this script with
Python script.py
How do i run this script from a docker
cd .. £ to root directory
# we do volume mapping with -V $(pwd)/test: /app/test
docker run -it  -v $(pwd)/test:/app/test --entrypoint=bash python:3.13.11-slim
# then all the linux functions applies
root@bfb0856598de:/# ls
app  boot  etc   lib    media  opt   root  sbin  sys  usr
bin  dev   home  lib64  mnt    proc  run   srv   tmp  var
root@bfb0856598de:/# cd app/
root@bfb0856598de:/app# ls
test
root@bfb0856598de:/app# cd test/
root@bfb0856598de:/app/test# ls
file1.txt  file2.txt  file3.txt  script.py
root@bfb0856598de:/app/test# python script.py

# create virtual environment within your workspace to install all required library
pip install uv
uv init --python 3.13  #initiate the virtual environment with python 3.13
uv run python -V create the virtual environment
uv run which python # to verify virtual environment python
which python # To verufy the code space python

# pyproject.toml notes the environment dependencies
to add libraries use
uv add pandas pyarrow

Then specify to the environment to use the uv python going forward
just use "uv run python filename.py" to use venv python 

#to commit all changes to git use the following
git status  # to view the status of all unadded files
git add .  # To add all the files
cd .. # go to the root
git commit -m 'pipeline' # to commit changes with message

To create my Docker image
We create Dockerfile that describe how I build the image

go to the Docker folder and do
# To build first -t is for task where test is the taskname . means build in current directory
docker build -t test:pandas  .

#To run specify entrypoint and --rm to remove all files once done
docker run -it --entrypoint=bash --rm test:pandas
ls to confirm the file was created 

I can add an entry point to the docker file
ENTRYPOINT [ "python", "pipeline.py" ]
hence I will build the docker machine again and run with below
docker run -it --rm test:pandas 12

We can use uv in docker also by copying from another docker image
COPY --from=ghcr.io/astral-sh/uv:python3.13 /uv /bin/

use docker to run postgres
docker run -it --rm \ #add -d for opening in detached mode
  -e POSTGRES_USER="root" \
  -e POSTGRES_PASSWORD="root" \
  -e POSTGRES_DB="ny_taxi" \
  -v ny_taxi_postgres_data:/var/lib/postgresql \ # makes it internal volume for docker
  -p 5432:5432 \ # make the port available outside the container port mapping
  postgres:18

ctrl c to shut down

  # To access the database Open a separate terminal 
uv add --dev pgcli  # A python tool --dev means dev dependencise and are not installed in Docker
Then we can connect
uv run pgcli -h localhost -p 5432 -u root -d ny_taxi # host, port, user, database
password: root
\dt  # to view data tables in the docker
create table test(id integer, name varchar(50));
insert into test values (1, 'Hello Docker');
select * from test;

\q to exit the Postgress envieon

Adding jupyter to uv> 

uv add --dev jupyter
uv run jupyter notebook

# To convert Jupyter notebook to python script run
uv run jupyter nbconvert --to=script notebook.ipynb


Modify script and use Agent to create Click version we can use cli to modify the script
  uv run python ingest_data_cli.py \
  --year 2021 \
  --month 1\
  --user root \
  --password root\
  --host localhost\
  --port 5432 \
  --db ny_taxi \
  --table yellow_taxi_trips_2021_1

  #Update the docker script to Copy ingest_data_cli.py

  the run docker build
  docker build -t taxi_ingest:v001 .
  then run

docker run --rm taxi_ingest:v001 \
  --year 2021\
  --month 1\
  --user root\
  --password root\
  --host localhost\
  --db ny_taxi \
  -- network=pg-network
  --table yellow_taxi_trips_2021_1_DC

  # Now we have multiple dockers and we need to create a network so they can connect
  using
  docker network create pg-network
  i will now create the DB again
  docker run -it --rm \
  -e POSTGRES_USER="root" \
  -e POSTGRES_PASSWORD="root" \
  -e POSTGRES_DB="ny_taxi" \
  -v ny_taxi_postgres_data:/var/lib/postgresql \ 
  -p 5432:5432 \
  --network=pg-network \
  --name pgdatabase \
  postgres:18